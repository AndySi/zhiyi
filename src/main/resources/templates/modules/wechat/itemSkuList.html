<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head>
    <meta charset="UTF-8">
    <title>商品列表</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="stylesheet" th:href="@{/css/font-awesome.min.css}">
    <link rel="stylesheet" th:href="@{/plugins/ztree/css/metroStyle/metroStyle.css}">
    <link rel="stylesheet" th:href="@{/plugins/layui/css/layui.css}" media="all">
    <link rel="stylesheet" th:href="@{/css/comm.css}">
    <script th:src="@{/libs/jquery.min.js}"></script>
    <script th:src="@{/plugins/layer/layer.js}"></script>
    <script th:src="@{/libs/vue.min.js}"></script>
    <script th:src="@{/plugins/ztree/jquery.ztree.all.min.js}"></script>
    <script th:src="@{/js/common.js}"></script>
</head>
<body>
<section class="layui-app-box" style="width: 97%;">
    <div id="vApp" v-cloak>
        <div v-show="showEle">
            <form class="layui-form" action="javascript:;">
                <div class="layui-form-item">
                    <!--<div class="layui-input-inline">
                        <input type="text" v-model="q.name" placeholder="商品名称" autocomplete="off"
                               class="layui-input">
                    </div>-->
                    <!--<button class="layui-btn" data-type="reload"><i class="fa fa-search"></i>&nbsp;查询</button>-->
                    <button shiro:hasPermission="wx:itemsku:add" class="layui-btn layui-btn-normal" data-type="add"><i
                            class="fa fa-plus"></i>&nbsp;新增
                    </button>
                    <button shiro:hasPermission="wx:itemsku:update" class="layui-btn layui-btn-warm" data-type="update">
                        <i class="fa fa-pencil-square-o"></i>&nbsp;修改
                    </button>
                    <button shiro:hasPermission="wx:itemsku:delete" class="layui-btn layui-btn-danger"
                            data-type="delete">
                        <i class="fa fa-trash-o"></i>&nbsp;删除
                    </button>
                </div>
            </form>
            <table id="layui-grid" class="layui-table" lay-filter="lf-credit"></table>
        </div>
        <!-- 页面 -->
        <div v-show="!showEle">
            <fieldset class="layui-elem-field layui-field-title">
                <legend>{{title}}</legend>
            </fieldset>
            <div class="d-content">
                <form class="layui-form" action="javascript:;">
                    <div class="layui-form-item" v-show="!showUpdate">
                        <label class="layui-form-label">商品名称</label>
                        <div class="layui-input-inline" style="width: 600px;">
                            <select lay-verify="lvRequired" lay-filter="lf-item" lay-search>
                                <option value="">请选择</option>
                                <option v-for="(option, key) in itemList" :value="option.id">{{ option.name }}</option>
                            </select>
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">商品属性</label>
                        <div class="layui-input-inline" style="width: 600px;">
                            <input type="text" lay-verify="required" class="layui-input"
                                   v-model="itemSku.attrInfo" style="cursor:pointer;" readonly="readonly"
                                   @click="getTreeBox" placeholder="请选择属性">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">商品原价</label>
                        <div class="layui-input-inline" style="width: 400px;">
                            <input type="text" v-model="itemSku.originalPrice" lay-verify="lvPrice" placeholder="￥"
                                   autocomplete="off" class="layui-input">
                        </div>
                        <div class="layui-form-mid layui-word-aux">价格含两位小数</div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">商品售价</label>
                        <div class="layui-input-inline" style="width: 400px;">
                            <input type="text" v-model="itemSku.price" lay-verify="lvPrice" placeholder="￥"
                                   autocomplete="off" class="layui-input">
                        </div>
                        <div class="layui-form-mid layui-word-aux">价格含两位小数</div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">商品库存</label>
                        <div class="layui-input-inline" style="width: 100px;">
                            <input type="text" lay-verify="lvNum" class="layui-input"
                                   v-model="itemSku.stock">
                        </div>
                        <div class="layui-form-mid layui-word-aux">最小库存为1</div>
                    </div>
                    <div class="layui-form-item">
                        <label class="layui-form-label">SKU销量</label>
                        <div class="layui-input-inline" style="width: 100px;">
                            <input type="text" lay-verify="lvSaleNum" class="layui-input"
                                   v-model="itemSku.saleNum">
                        </div>
                    </div>
                    <div class="layui-form-item">
                        <div class="layui-input-block">
                            <button class="layui-btn" lay-submit="" lay-filter="btn-ok">确定</button>
                            <button class="layui-btn layui-btn-warm" data-type="goback">返回</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
<!-- 属性 -->
<div id="treeLayer" style="display: none;padding:10px;">
    <ul id="listTree" class="ztree"></ul>
</div>
<script th:src="@{/plugins/layui/layui.js}" charset="utf-8"></script>
<script th:src="@{/js/modules/wechat/itemSkuList.js}"></script>
</body>
</html>